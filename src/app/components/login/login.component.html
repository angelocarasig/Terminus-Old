<div class="login-container">
  <p-card>
    <p-panel header="Login" [collapsed]="false">
      <form [formGroup]="loginForm">
  
      <!-- Mode -->
      <div class="p-field">
        <p-dropdown 
          formControlName="mode"
          placeholder="Select Mode"
          [options]="modes"
          [class.ng-invalid]="loginForm.controls['mode'].invalid && submitted" 
          [class.ng-dirty]="loginForm.controls['mode'].invalid && submitted"
          (onChange)="onModeChange()"
        >
        </p-dropdown>
      </div>
  
      <p-divider></p-divider>
  
      <!-- ID -->
      <div class="p-field">
        <span class="p-inputgroup-addon" pTooltip="Enter your ID">
          <i class="pi pi-id-card"></i>
        </span>
        <p-inputNumber id="userid" formControlName="userid" placeholder="ID" mode="decimal" inputId="withoutgrouping" [useGrouping]="false" [class.ng-invalid]="loginForm.controls['userid'].invalid && submitted" [class.ng-dirty]="loginForm.controls['userid'].invalid && submitted"/>
      </div>
  
      <!-- Username -->
      <div class="p-field">
        <span class="p-inputgroup-addon" pTooltip="Enter your username">
          <i class="pi pi-user"></i>
        </span>
        <input type="text" id="username" formControlName="username" placeholder="Username" pInputText [class.ng-invalid]="loginForm.controls['username'].invalid && submitted" [class.ng-dirty]="loginForm.controls['username'].invalid && submitted"/>
      </div>
  
      <!-- Authorization -->
      <div class="p-field" *ngIf="authMode">
        <span class="p-inputgroup-addon" pTooltip="Enter your auth key">
          <i class="pi pi-shield"></i>
        </span>
        <p-password id="authkey" formControlName="authkey" [feedback]="false" placeholder="Authentication Key" [class.ng-invalid]="loginForm.controls['authkey'].invalid && submitted" [class.ng-dirty]="loginForm.controls['authkey'].invalid && submitted"/>
      </div>
  
      <p-divider></p-divider>
  
      <!-- Confirm -->
      <div class="p-field response-container">
        <p-button type="submit" (click)="onSubmit()" [loading]="loading">Login</p-button>
        <br/>
        <small class="p-error" *ngIf="!validLoginDetails">
          {{ errorMsg }}
        </small>
      </div>
  
      </form>
    </p-panel>
  </p-card>
  
</div>
